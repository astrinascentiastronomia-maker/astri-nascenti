<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ASTRI NASCENTI — Book</title>

<style>
html,body{
  margin:0;
  height:100%;
  background:#0b0b0b;
  color:#fff;
  font-family:system-ui, Arial;
}

/* CONTENITORE */
.wrap{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

/* LIBRO */
.book{
  width:520px;
  height:720px;
  position:relative;
  perspective:1800px;
}

/* FINESTRA PAGINA */
.viewport{
  width:100%;
  height:100%;
  position:relative;
  overflow:hidden;
  background:#111;
  box-shadow:0 30px 80px rgba(0,0,0,.8);
}

/* STRATI */
.layer{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  transform-style:preserve-3d;
}

/* IMMAGINI */
.layer img{
  width:100%;
  height:100%;
  object-fit:cover;
  user-select:none;
  -webkit-user-drag:none;
}

/* PAGINA SOTTO (GIÀ ATTACCATA) */
.next{
  z-index:1;
}

/* PAGINA CHE GIRA */
.flipper{
  transform-origin:left center;
  transition:transform 0.85s ease;
  z-index:2;
}

/* STATO ANIMAZIONE */
.flipper.turn{
  transform:rotateY(-180deg);
}

/* RETRO DELLA PAGINA */
.flipper .back{
  position:absolute;
  inset:0;
  transform:rotateY(180deg);
  backface-visibility:hidden;
}

/* CONTROLLI */
.controls{
  margin-top:24px;
  display:flex;
  gap:24px;
  align-items:center;
}

button{
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.25);
  color:#fff;
  padding:12px 22px;
  font-size:15px;
  border-radius:10px;
  cursor:pointer;
}

button:hover{
  background:rgba(255,255,255,.18);
}

.status{
  font-size:14px;
  opacity:.85;
}
</style>
</head>

<body>

<div class="wrap">

  <div class="book">
    <div class="viewport">

      <!-- PAGINA SUCCESSIVA (GIÀ VISIBILE SOTTO) -->
      <div class="layer next">
        <img id="nextImg">
      </div>

      <!-- PAGINA CHE GIRA -->
      <div class="layer flipper" id="flipper">
        <img id="currentImg">
        <div class="back">
          <img id="backImg">
        </div>
      </div>

    </div>
  </div>

  <div class="controls">
    <button id="prev">◀ Indietro</button>
    <div class="status" id="status">1 / 36</div>
    <button id="next">Avanti ▶</button>
  </div>

</div>

<script>
/* CONFIG */
const TOTAL = 36;
const PATH  = 'Pag/astri-nascenti-2025-';
const EXT   = '.jpg';

const currentImg = document.getElementById('currentImg');
const nextImg    = document.getElementById('nextImg');
const backImg    = document.getElementById('backImg');
const flipper    = document.getElementById('flipper');
const status     = document.getElementById('status');

let index = 1;
let busy  = false;

const src = i => `${PATH}${i}${EXT}`;

/* CARICA PAGINE */
function load(){
  currentImg.src = src(index);
  backImg.src    = src(index + 1 <= TOTAL ? index + 1 : index);
  nextImg.src    = src(index + 1 <= TOTAL ? index + 1 : index);
  status.textContent = `${index} / ${TOTAL}`;
}

/* AVANTI */
function next(){
  if(busy || index >= TOTAL) return;
  busy = true;

  flipper.classList.add('turn');

  setTimeout(()=>{
    flipper.classList.remove('turn');
    index++;
    load();
    busy = false;
  }, 850);
}

/* INDIETRO */
function prev(){
  if(busy || index <= 1) return;
  busy = true;

  index--;
  load();
  busy = false;
}

/* EVENTI */
document.getElementById('next').onclick = next;
document.getElementById('prev').onclick = prev;

/* INIT */
load();
</script>

</body>
</html>
